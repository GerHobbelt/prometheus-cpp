@PACKAGE_INIT@
include(CMakeFindDependencyMacro)

set_and_check(prometheus-cpp_INCLUDE_DIR "@PACKAGE_CMAKE_INSTALL_INCLUDEDIR@")

set(PROMETHEUS_CPP_ENABLE_PULL @ENABLE_PULL@)
set(PROMETHEUS_CPP_ENABLE_PUSH @ENABLE_PUSH@)
set(PROMETHEUS_CPP_USE_COMPRESSION @ENABLE_COMPRESSION@)
set(PROMETHEUS_CPP_USE_THIRDPARTY_LIBRARIES @USE_THIRDPARTY_LIBRARIES@)
set(PROMETHEUS_CPP_THIRDPARTY_CIVETWEB_WITH_SSL @THIRDPARTY_CIVETWEB_WITH_SSL@)

set(CMAKE_THREAD_PREFER_PTHREAD TRUE)
find_dependency(Threads)
unset(CMAKE_THREAD_PREFER_PTHREAD)

if(PROMETHEUS_CPP_ENABLE_PULL)
  if(PROMETHEUS_CPP_USE_THIRDPARTY_LIBRARIES)
    if(PROMETHEUS_CPP_THIRDPARTY_CIVETWEB_WITH_SSL)
      hunter_add_package(OpenSSL)
      find_dependency(OpenSSL)
    endif()
  else()
    hunter_add_package(civetweb)
    find_dependency(civetweb CONFIG)
  endif()
endif()

if(PROMETHEUS_CPP_ENABLE_PULL AND PROMETHEUS_CPP_USE_COMPRESSION)
  hunter_add_package(ZLIB)
  find_dependency(ZLIB CONFIG REQUIRED)
endif()

if(PROMETHEUS_CPP_ENABLE_PUSH)
  hunter_add_package(CURL)
  find_package(CURL CONFIG REQUIRED)
endif()

include("${CMAKE_CURRENT_LIST_DIR}/prometheus-cpp-targets.cmake")
